OASISFormat: 0.4
Name:        databox-store-hls-video
Version:     0.1.0
Synopsis:    Databox store for transcoding video and streaming as HLS.
Description:
  A Databox store for storage of video files that transcodes uploaded videos
  and makes them available as an [HLS](https://developer.apple.com/streaming/)
  stream.
Authors:     Dominic Price
Copyrights:  (C) 2016 Horizon Digital Economy Research
LicenseFile: LICENSE
License:     ISC
Homepage:    https://github.com/me-box/databox-store-hls-video
BuildTools:  ocamlbuild

Library databox
  Path:         src/lib-databox
  Install:      false
  Modules:      Databox
  BuildDepends:
    atdgen,
    cohttp.lwt,
    config-file,
    lwt,
    lwt.ppx,
    uri,
    yojson

Library store
  Path:                src/store
  Install:             false
  Modules:
    Application,
    Datastore_types_j,
    Datastore_types_t,
    Http_server,
    Token,
    Transcoder
  BuildDepends:
    atdgen,
    cohttp.lwt,
    databox,
    irmin,
    irmin.unix,
    logs,
    lwt,
    lwt.ppx,
    nocrypto,
    nocrypto.lwt,
    odate,
    re2,
    uri,
    uuidm,
    yojson

Executable store
  Path:           src
  Install:        true
  MainIs:         store.ml
  CompiledObject: native
  NativeOpt:      -ccopt '-L/home/tc/.opam/4.03.0/lib/lwt' -cclib '-static
     -lunix -lbigarray -lcamlstr'
  BuildDepends:
    cohttp.lwt,
    databox,
    irmin,
    irmin.unix,
    logs,
    lwt,
    lwt.ppx,
    store

Executable test_store_token
  Path:           test/store
  Install:        false
  MainIs:         test_token.ml
  CompiledObject: native
  BuildDepends:
    oUnit,
    store

Test test_store_token
  Type:    Custom (0.0.1)
  Command: $test_store_token -runner sequential
